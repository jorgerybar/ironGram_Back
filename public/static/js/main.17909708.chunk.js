(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{172:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),l=a.n(o),c=(a(93),a(6)),i=a(7),s=a(11),u=a(8),p=a(12),m=(a(95),a(177)),h=a(176),d=a(84),v=a(16),g=a.n(v),f="https://cadavr-app.herokuapp.com/",E=function(e,t){return g.a.post(f+e,t).then(function(e){return console.log("Added new Line"),e})},b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={title:"Flowerpot",reveal:!1,newlines:[],urlEnd:null},a.onSubmit=function(e){e.preventDefault();var t=a.state.newlines,n={text:e.target.childNodes[1].value,color:a.randomColor(),writer:e.target.childNodes[0].value};t.push(n),a.setState({reveal:!0,newlines:t}),E(a.props.data.urlEnd,n).then(function(e){console.log("Post Successful"+e)}).catch(function(e){console.log(e)})},a.randomColor=function(){return["#ef2e60","#fdc847","#36b980","#ee4d30","#531a4b","#981f26"][(0,Math.round)(6*(0,Math.random)())]},a.drawLine=function(e,t){return r.a.createElement("div",{className:"cadav-line",key:t},r.a.createElement("p",{className:"cadav-line-writer"},e.writer),r.a.createElement("span",{style:{color:e.color},className:"cadav-line-txt"},e.text))},a.checkReveal=function(){var e=a.props.data,t=e.title,n=e.lines,o=a.state.reveal;if(t&&n)return n.push.apply(n,Object(d.a)(a.state.newlines)),o?r.a.createElement("div",null,r.a.createElement("h1",{className:"cadav-title"},t),n.map(function(e,t){return a.drawLine(e,t)}),r.a.createElement("div",{className:"sharethis-inline-share-buttons"}),r.a.createElement("img",{className:"cadav-share",width:"100px",src:"buttons.png",alt:""})):r.a.createElement("div",null,r.a.createElement("h1",{className:"cadav-title"},t),console.log(n),a.drawLine(n[n.length-1]),r.a.createElement("form",{className:"cadav-form",onSubmit:a.onSubmit},r.a.createElement("input",{id:"cadav-input-writer",maxLength:"10",placeholder:"Mi nombre es..",type:"text"}),r.a.createElement("input",{id:"cadav-input-line",maxLength:"200",placeholder:"Mi linea genial",type:"text"}),r.a.createElement("input",{className:"cadav-btn",type:"submit",value:"Add"})))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.data,t=e.lines,a=e.title,n=e.urlEnd;this.setState({lines:t,title:a,urlEnd:n})}},{key:"render",value:function(){return console.log("Render Cadav Title "+this.state.title),r.a.createElement("div",{className:"cadav"},this.checkReveal())}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[]},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;g.a.get(f+"list").then(function(e){return console.log("Got all cadavs"),e.data}).then(function(t){e.setState({data:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.data;return r.a.createElement("div",{className:"list"},e.map(function(e,t){return r.a.createElement(b,{data:e,key:t})}))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[]},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;(function(e){return console.log("using getCadavData service"),g.a.get(f+e).then(function(e){return console.log("Got Some sort of response"),console.log(e.data[0]),e.data[0]}).catch(function(e){return e})})(this.props.match.params.name).then(function(t){e.setState({data:t}),console.log("Got Data from Axios"+e.state.data.title)}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.data;return console.log(" Render Single Data"+e.title),r.a.createElement("div",null,r.a.createElement(b,{data:e}))}}]),t}(n.Component),j="https://cadavr-app.herokuapp.com/new",C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={newCadav:{}},a.onSubmit=function(e){e.preventDefault();var t=a.state.newCadav;g.a.post(j,t).then(function(e){console.log(e.urlEnd),a.props.history.push(t.title)}).catch(function(e){console.log(e)})},a.onChange=function(e){var t=e.target.name,n=e.target.value,r=a.state.newCadav;r[t]=n,a.setState({newCadav:r}),console.log(a.state.newCadav)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"new-form",onSubmit:this.onSubmit},r.a.createElement("input",{onChange:this.onChange,placeholder:"Nombre del Cadaver",name:"title",type:"text"}),r.a.createElement("input",{onChange:this.onChange,placeholder:"Primera linea",name:"text",type:"text"}),r.a.createElement("input",{onChange:this.onChange,placeholder:"Escritor",name:"writer",type:"text"}),r.a.createElement("input",{type:"submit",value:"Crear Nuevo"})))}}]),t}(n.Component),O=a(175),k=a(173),S=a(27),N=a.n(S),x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={signup:{username:"pollollon"},loading:!1},a.onChange=function(e){var t=e.target.name,n=e.target.value,r=a.state.signup;r[t]=n,a.setState({signup:r})},a.createUser=function(e){e.preventDefault();var t=a.state.signup;if(t.password!==t.password2)return N.a.error("Escribe bien hijo!");g.a.post("https://cadavr-app.herokuapp.com/signup",t).then(function(e){console.log(e),N.a.success("hey! lo lograte!")}).catch(function(e){return N.a.error("No pitufa")})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.signup,a=e.loading;return r.a.createElement("form",{onSubmit:this.createUser,style:{width:600,margin:"0 auto",padding:20}},r.a.createElement("h2",null,"Date de alta mijo"),r.a.createElement("p",null,r.a.createElement(O.a,{name:"username",type:"text",onChange:this.onChange,value:t.username,placeholder:"Tu nombre de usuario"})),r.a.createElement("p",null,r.a.createElement(O.a,{name:"email",type:"email",onChange:this.onChange,value:t.email,placeholder:"Tu correo"})),r.a.createElement("p",null,r.a.createElement(O.a,{name:"password",type:"password",onChange:this.onChange,value:t.password,placeholder:"Tu Password"})),r.a.createElement("p",null,r.a.createElement(O.a,{name:"password2",type:"password",onChange:this.onChange,value:t.password2,placeholder:"Repite tu Password"})),r.a.createElement(k.a,{loading:a,type:"primary",htmlType:"submit"},"Registrarme"))}}]),t}(n.Component),A="https://cadavr-app.herokuapp.com/login",D=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={auth:{},loading:!1},a.login=function(e){a.setState({loading:!0}),e.preventDefault();var t=a.state.auth;g.a.post(A,t).then(function(e){console.log(e),N.a.success("Te logueate!"),localStorage.setItem("user",JSON.stringify(e.data.user)),localStorage.setItem("token",e.data.token),a.setState({loading:!1}),a.props.history.push("/")}).catch(function(e){N.a.error("no quiero tu cochinada"),a.setState({loading:!1})})},a.onChange=function(e){var t=e.target.name,n=e.target.value,r=a.state.auth;r[t]=n,a.setState({auth:r})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.auth,a=e.loading;return r.a.createElement("form",{onSubmit:this.login,style:{width:600,margin:"0 auto",padding:20}},r.a.createElement("h2",null,"Inicia sesi\xf3n mijo"),r.a.createElement("p",null,r.a.createElement(O.a,{name:"email",type:"email",onChange:this.onChange,value:t.email,placeholder:"Tu correo"})),r.a.createElement("p",null,r.a.createElement(O.a,{name:"password",type:"password",onChange:this.onChange,value:t.password,placeholder:"Tu Password"})),r.a.createElement(k.a,{loading:a,type:"primary",htmlType:"submit"},"Inicia sesi\xf3n"))}}]),t}(n.Component),T=function(){return r.a.createElement(m.a,null,r.a.createElement(h.a,{exact:!0,path:"/signup",component:x}),r.a.createElement(h.a,{exact:!0,path:"/login",component:D}),r.a.createElement(h.a,{exact:!0,path:"/new",component:C}),r.a.createElement(h.a,{path:"/list",component:w}),r.a.createElement(h.a,{path:"/:name",component:y}))},M=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(T,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(168),a(170);var L=a(174);l.a.render(r.a.createElement(function(){return r.a.createElement(L.a,null,r.a.createElement(M,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},88:function(e,t,a){e.exports=a(172)},93:function(e,t,a){},95:function(e,t,a){}},[[88,2,1]]]);
//# sourceMappingURL=main.17909708.chunk.js.map